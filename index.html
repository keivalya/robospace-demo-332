<!DOCTYPE html>
<html lang="en">

<head>
    <title>RoboSpace Demo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="application-name" content="robospace_demo">
    <meta name="description" content="RoboSpace Demo">
    <meta name="keywords" content="RoboSpace">
    <meta name="author" content="zalo">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover, user-scalable=no, shrink-to-fit=0">
    <meta name="theme-color" content="#ffffff">
    <link rel="icon" type="image/x-icon" href="./examples/favicon.png">
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
    <!-- <script src="./dist/mujoco_wasm.js"></script> -->
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <h1 hidden></h1>

    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

    <script type="importmap">
            { "imports": { "three": "./node_modules/three/build/three.module.js", "three/addons/": "./node_modules/three/examples/jsm/"} }
        </script>

    <!-- Toolbar -->
    <div id="toolbar">
        <div class="toolbar-section">
            <label class="toolbar-label">Scene</label>
            <select id="scene-selector" class="toolbar-select"></select>
        </div>

        <div class="toolbar-section">
            <button id="pause-button" class="toolbar-button">‚è∏ Pause</button>
            <button id="reset-button" class="toolbar-button">‚Ü∫ Reset</button>
            <button id="reload-button" class="toolbar-button">‚ü≤ Reload</button>
        </div>

        <div class="toolbar-section">
            <label class="toolbar-label">Noise Rate</label>
            <div class="toolbar-slider-container">
                <input type="range" id="noise-rate-slider" class="toolbar-slider" min="0" max="2" step="0.01"
                    value="0.1">
                <span id="noise-rate-value" class="toolbar-value">0.10</span>
            </div>
        </div>

        <div class="toolbar-section">
            <label class="toolbar-label">Noise Scale</label>
            <div class="toolbar-slider-container">
                <input type="range" id="noise-scale-slider" class="toolbar-slider" min="0" max="2" step="0.01"
                    value="0">
                <span id="noise-scale-value" class="toolbar-value">0.00</span>
            </div>
        </div>
    </div>

    <!-- Main 3D View -->
    <div id="appbody">
        <div id="error"></div>
        <script type="module" src="./examples/main.js"></script>
    </div>

    <!-- Python IDE -->
    <div id="python-ide">
        <div class="ide-header">
            <div class="ide-title">
                <span>üêç Python Controller</span>
                <span style="color: #888; font-size: 12px;">Control robot actuation with Python</span>
            </div>
            <div class="ide-controls">
                <button id="run-python" class="ide-button">‚ñ∂ Run</button>
                <button id="stop-python" class="ide-button">‚ñ† Stop</button>
                <button id="clear-python" class="ide-button clear">Clear</button>
                <button id="toggle-ide" class="ide-button toggle">‚åÉ</button>
            </div>
        </div>
        <div id="python-editor-container">
            <textarea id="python-code" placeholder="# Enter Python code here to control the robot
# Example:
# sim.data.ctrl[0] = 0.5  # Set first actuator
# sim.data.ctrl[1] = -0.3  # Set second actuator
# 
# Available objects:
# - sim: MuJoCo simulation object
# - model: MuJoCo model
# - data: Simulation data
# - np: NumPy library
# - time: Time module

import numpy as np
import time

# Your code here..."></textarea>
            <div id="python-output">
                <div class="output-label">OUTPUT</div>
            </div>
        </div>
    </div>
    <!-- Add this after the #python-ide div -->
    <div id="robot-info" class="collapsed">
        <div class="info-header">
            <div class="info-title">
                <span>ü§ñ Robot Information</span>
            </div>
            <button id="toggle-info" class="info-button toggle">‚åÉ</button>
        </div>
        <div id="robot-info-container">
            <div id="robot-details">
                <div class="info-section">
                    <h3>Model: <span id="model-name">-</span></h3>
                    <p>Bodies: <span id="body-count">0</span> | Joints: <span id="joint-count">0</span></p>
                </div>
                <div class="info-section">
                    <h3>Joints & Actuators</h3>
                    <div id="joints-table-container">
                        <table id="joints-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Range</th>
                                    <th>Value</th>
                                </tr>
                            </thead>
                            <tbody id="joints-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>